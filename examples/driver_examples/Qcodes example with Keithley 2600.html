<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="310x346" href="../../_static/qcodes_favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QCoDeS Example with with Keithley 2600 series &mdash; QCoDeS 0.27.0.dev9139 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=9e84aeb3"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QCoDeS Example with Tektronix Keithley 7510 Multimeter" href="Qcodes%20example%20with%20Keithley%207510.html" />
    <link rel="prev" title="QCoDeS Example with Itacho" href="Qcodes%20example%20with%20Ithaco.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            QCoDeS
          </a>
              <div class="version">
                0.27.0.dev9139+main.g009ec80fb
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_minutes_to_QCoDeS.html">15 minutes to QCoDeS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#dataset">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#plotting">Plotting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#drivers">Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20Example%20with%20Keysight%20E4980A%20LCR%20meter.html">QCoDeS Example with Keysight E4980A LCR meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20Example%20with%20Yokogawa%20GS200%20and%20Keithley%207510.html">QCoDeS Example with Yokogawa GS200 and Keithley 7510 Multimeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Aim%20TTi%20PL601-P.html">QCoDeS example with Aim TTi PL601-P</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20DelegateInstrument.html">Qcodes example with DelegateInstrument driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Galil%20DMC4133%20Controller.html">QCoDeS example with Galil DMC4133 Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20InstrumentGroup%20and%20DelegateInstrument.html">Qcodes example with InstrumentGroup driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Keithley%203706A%20System%20Switch.html">QCoDeS example with Keithley 3706A System Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Keithley%20S46.html">QCoDeS Example with Tektronix Keithley S46</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Rigol%20DG1062.html">QCoDeS Example with the Rigol DG 1062 Instrument</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Tektronix%20DPO%2072004C.html">QCoDeS example with Textronix DPO 7200xx scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20AMI430.html">QCoDeS Example with AMI430</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Agilent%2034400A.html">QCoDeS Example with Agilent 34400A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Alazar%20ATS9360.html">QCoDeS Example with Alazar ATS 9360</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Basel%20SP983c%20Preamp.html">Qcodes example with Basel SP983c Preamp and its Remote SP983a</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Cryomagnetics4G.html">Cryomagnetics 4G QCoDeS Driver Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20DynaCool%20PPMS.html">QCoDeS Example with DynaCool PPMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20HP8753D.html">QCoDeS Example with HP8753D</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Ithaco.html">QCoDeS Example with Itacho</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">QCoDeS Example with with Keithley 2600 series</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Basic-operation">Basic operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fast-IV-or-VI-curves">Fast IV or VI curves</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Time-Trace">Time Trace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Recalibration">Recalibration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keithley%207510.html">QCoDeS Example with Tektronix Keithley 7510 Multimeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%2033500B.html">QCoDeS Example with Keysight 33500B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20344xxA.html">QCoDeS Example with Keysight 344xxA</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%2034980A%20Switch%20Mainframe%20and%20Modules.html">QCoDeS Example with Keysight 34980A Multifunction Switch / Measure Mainframe and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20B1500%20Parameter%20Analyzer.html">Qcodes example with Keysight B1500 Semiconductor Parameter Analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20B2200%20Series%20Femto%20Leakage%20Switch%20Matrix.html">QCoDeS Example with Keysight B2200 Series Femto Leakage Switch Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20Infiniium%20Oscilloscope.html">QCoDeS Example with Keysight Infiniium Oscilloscopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20N9030B.html">Qcodes example with Keysight N9030B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20Network%20Analyzer.html">QCoDeS Example with Keysight Network Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Lakeshore%20325.html">QCoDeS Example with Lakeshore 325</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Lakeshore%20336%20or%20372%20-%20Bluefors%20T%20control.html">QCoDeS Example with the Lakeshore Model 372 to Control the Temperature of the Bluefors Fridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Minicircuits%20Switch%20boxes%20%28USB-XSPDT%29.html">QCoDeS Example with Minicircuits Switch Boxes Controlled via USB</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Oxford%20Mercury%20iPS.html">QCoDeS Example with Mercury iPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Oxford%20Triton.html">QCoDeS Example with Oxford Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20QDev_QDac.html">QCoDeS Example with QDac_channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rigol%20DP832.html">QCoDeS Example with Rigol DP832 Power Supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rigol%20DS1074Z.html">QCoDeS Example with the Rigol DS 1074 Z oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20RTO%201000%20series%20Oscilloscope.html">QCoDeS Example with Rohde Schwarz RTO 1000 Series Oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20SGS100A.html">QCoDeS Example with Rohde Schwarz SGS100A RF source</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20ZNB.html">QCoDeS Example with Rohde Schwarz ZNB20/8</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stahl.html">QCoDeS Example with the Stahl Bias Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stanford%20SR830.html">QCoDeS Example with Stanford SR830</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stanford%20SR86x%20with%20buffered%20readout.html">QCoDeS Example with Standford Research SR86x Lock-in Amplifier with Buffered Readout</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20AWG5014C.html">QCoDeS Example with Tektronix AWG5014</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20AWG70002A.html">QCoDeS Example with Tektronix AWG70002A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20TPS2012.html">QCoDeS Example with Tektronix TPS2012</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Yokogawa%20GS2xx.html">QCoDeS Example with Yokogawa GS200/GS210</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20keithley%202450.html">QCoDeS Example with Tektronix Keithley 2450 Source Meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%2Bbroadbean%20example%20with%20Tektronix%20AWG5208.html">QCoDeS+Broadbean Example with Tektronix AWG5208</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B.html">QCoDeS Example with Signal Hound USB-SA124B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B-ParameterWithSetpoints.html">QCoDeS Example with Signal Hound USB-SA124B ParameterWithSetpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#writing-drivers">Writing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">QCoDes API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers_api/index.html">Instrument Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples of using QCoDeS</a></li>
      <li class="breadcrumb-item active">QCoDeS Example with with Keithley 2600 series</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/driver_examples/Qcodes example with Keithley 2600.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
  <p>This page was generated from
    <a class="reference external"
    href="https://github.com/qcodes/qcodes/blob/main/docs/examples/driver_examples/Qcodes example with Keithley 2600.ipynb">docs/examples/driver_examples/Qcodes example with Keithley 2600.ipynb</a>.
    Interactive online version:
    <a href="https://mybinder.org/v2/gh/qcodes/qcodes/main?filepath=docs/examples/driver_examples/Qcodes example with Keithley 2600.ipynb"><img
alt="Binder badge"
    src="https://mybinder.org/badge_logo.svg"
    style="vertical-align:text-bottom"></a>.
  </p>
  <script>
    if (document.location.host) {
      var p = document.currentScript.previousSibling.previousSibling;
      var a = document.createElement('a');
      a.innerHTML = 'View in <em>nbviewer</em>';
      a.href = `https://nbviewer.jupyter.org/url${
        (window.location.protocol == 'https:' ? 's/' : '/') +
        window.location.host +
        window.location.pathname.slice(0, -4) }ipynb`;
      a.classList.add('reference');
      a.classList.add('external');
      p.appendChild(a);
      p.appendChild(document.createTextNode('.'));
    }
  </script>
</div><section id="QCoDeS-Example-with-with-Keithley-2600-series">
<h1>QCoDeS Example with with Keithley 2600 series<a class="headerlink" href="#QCoDeS-Example-with-with-Keithley-2600-series" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset</span> <span class="kn">import</span> <span class="n">do0d</span><span class="p">,</span> <span class="n">initialise_database</span><span class="p">,</span> <span class="n">new_experiment</span><span class="p">,</span> <span class="n">plot_dataset</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.Keithley</span> <span class="kn">import</span> <span class="n">Keithley2614B</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a station to hold all the instruments</span>

<span class="n">station</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Station</span><span class="p">()</span>

<span class="c1"># instantiate the Keithley and add it to the station</span>

<span class="n">keith</span> <span class="o">=</span> <span class="n">Keithley2614B</span><span class="p">(</span><span class="s1">&#39;keithley&#39;</span><span class="p">,</span> <span class="s1">&#39;USB0::0x05E6::0x2614::4305420::INSTR&#39;</span><span class="p">)</span>
<span class="n">station</span><span class="o">.</span><span class="n">add_component</span><span class="p">(</span><span class="n">keith</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Connected to: Keithley Instruments Inc. 2614B (serial:4305420, firmware:3.2.2) in 0.77s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;keithley&#39;
</pre></div></div>
</div>
<p>The Keithley 2600 has two channels, here called <code class="docutils literal notranslate"><span class="pre">smua</span></code> and <code class="docutils literal notranslate"><span class="pre">smub</span></code> in agreement with the instrument manual.</p>
<p>The two channels are basically two separate instruments with different integration times (<code class="docutils literal notranslate"><span class="pre">nplc</span></code>), operation modes (<code class="docutils literal notranslate"><span class="pre">mode</span></code>) etc.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get an overview of the settings</span>
<span class="c1">#</span>
<span class="c1"># You will notice that the two channels have identical parameters but</span>
<span class="c1"># potentially different values for them</span>
<span class="c1">#</span>
<span class="n">keith</span><span class="o">.</span><span class="n">print_readable_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
keithley:
        parameter      value
--------------------------------------------------------------------------------
IDN             :       {&#39;vendor&#39;: &#39;Keithley Instruments Inc.&#39;, &#39;model&#39;: &#39;2614B&#39;, &#39;...
display_settext :       None
timeout         :       5 (s)
keithley_smua:
        parameter                  value
--------------------------------------------------------------------------------
curr                        :   8.7023e-07 (A)
fastsweep                   :   Not available
limiti                      :   0.1 (A)
limitv                      :   20 (V)
linefreq                    :   50 (Hz)
measure_autorange_i_enabled :   False
measure_autorange_v_enabled :   True
measurerange_i              :   0.1 (A)
measurerange_v              :   200 (V)
mode                        :   current
nplc                        :   0.05
output                      :   True
res                         :   2.2985e+07 (Ohm)
source_autorange_i_enabled  :   True
source_autorange_v_enabled  :   False
sourcerange_i               :   0.1 (A)
sourcerange_v               :   20 (V)
time_axis                   :   Not available (s)
timetrace                   :   Not available (A)
timetrace_dt                :   0.001 (s)
timetrace_mode              :   current
timetrace_npts              :   500
volt                        :   20.002 (V)
keithley_smub:
        parameter                  value
--------------------------------------------------------------------------------
curr                        :   -1.8239e-12 (A)
fastsweep                   :   Not available
limiti                      :   0.1 (A)
limitv                      :   20 (V)
linefreq                    :   50 (Hz)
measure_autorange_i_enabled :   True
measure_autorange_v_enabled :   True
measurerange_i              :   1e-07 (A)
measurerange_v              :   0.2 (V)
mode                        :   voltage
nplc                        :   1
output                      :   False
res                         :   3.5934e+07 (Ohm)
source_autorange_i_enabled  :   True
source_autorange_v_enabled  :   True
sourcerange_i               :   1e-07 (A)
sourcerange_v               :   0.2 (V)
time_axis                   :   Not available (s)
timetrace                   :   Not available (A)
timetrace_dt                :   0.001 (s)
timetrace_mode              :   current
timetrace_npts              :   500
volt                        :   -6.3276e-05 (V)
</pre></div></div>
</div>
<section id="Basic-operation">
<h2>Basic operation<a class="headerlink" href="#Basic-operation" title="Link to this heading"></a></h2>
<p>Each channel operates in either <code class="docutils literal notranslate"><span class="pre">voltage</span></code> or <code class="docutils literal notranslate"><span class="pre">current</span></code> mode. The mode controls the <em>source</em> behaviour of the instrument, i.e. <code class="docutils literal notranslate"><span class="pre">voltage</span></code> mode corresponds to an amp-meter (voltage source, current meter) and vice versa.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s set up a single-shot current measurement</span>
<span class="c1"># on channel a</span>

<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">)</span>
<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">nplc</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>  <span class="c1"># 0.05 Power Line Cycles per measurement. At 50 Hz, this corresponds to 1 ms</span>
<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">sourcerange_v</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">measurerange_i</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">volt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># set the source to output 1 V</span>
<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s1">&#39;on&#39;</span><span class="p">)</span>  <span class="c1"># turn output on</span>
<span class="n">curr</span> <span class="o">=</span> <span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">curr</span><span class="p">()</span>
<span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Measured one current value: </span><span class="si">{</span><span class="n">curr</span><span class="si">}</span><span class="s1"> A&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Measured one current value: -3.40939e-06 A
</pre></div></div>
</div>
</section>
<section id="Fast-IV-or-VI-curves">
<h2>Fast IV or VI curves<a class="headerlink" href="#Fast-IV-or-VI-curves" title="Link to this heading"></a></h2>
<p>Onboard the Keithley 2600 sits a small computer that can interpret <code class="docutils literal notranslate"><span class="pre">Lua</span></code> scripts. This can be used to make fast IV- or VI-curves and is supported by the QCoDeS driver. To make IV- or VI-curves the driver has the ArrayParameter fastsweep, which have 3 modes: ‘IV’,’VI’ and ‘VIfourprobe’. The Modes ‘IV’ and ‘VI’are two probe measurements, while the mode ‘VIfourprobe’ makes a four probe measuremnt.</p>
<p>Let’s make a fast IV curve by sweeping the voltage from 1 V to 2 V in 500 steps (when making this notebook, nothing was connected to the instrument, so we just measure noise)</p>
<p>First we need to prepare the sweep by spesifyring the start, stop, number of points and the mode</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="o">.</span><span class="n">prepareSweep</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;IV&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>When the sweep parameters are set, we can use a “do0d” to preform the sweep</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">do0d</span><span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="p">,</span> <span class="n">do_plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 154.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(results #154@C:\Users\Farzad\experiments.db
 -------------------------------------------
 keithley_smua_Voltage - array
 keithley_smua_iv_sweep - array,
 [&lt;AxesSubplot:title={&#39;center&#39;:&#39;Run #154, Experiment tutorial_exp (no sample)&#39;}, xlabel=&#39;keithley_smua_Voltage (V)&#39;, ylabel=&#39;current (μA)&#39;&gt;],
 [None])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_12_2.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_12_2.png" />
</div>
</div>
<p>We can likewise do a VI two- or four-probe measurement</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="o">.</span><span class="n">prepareSweep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;VI&#39;</span><span class="p">)</span>
<span class="n">do0d</span><span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="p">,</span> <span class="n">do_plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 155.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(results #155@C:\Users\Farzad\experiments.db
 -------------------------------------------
 keithley_smua_Current - array
 keithley_smua_vi_sweep - array,
 [&lt;AxesSubplot:title={&#39;center&#39;:&#39;Run #155, Experiment tutorial_exp (no sample)&#39;}, xlabel=&#39;keithley_smua_Current (mA)&#39;, ylabel=&#39;voltage (V)&#39;&gt;],
 [None])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_14_2.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_14_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="o">.</span><span class="n">prepareSweep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;VIfourprobe&#39;</span><span class="p">)</span>
<span class="n">do0d</span><span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="p">,</span> <span class="n">do_plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 156.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(results #156@C:\Users\Farzad\experiments.db
 -------------------------------------------
 keithley_smua_Current - array
 keithley_smua_vi_sweep_four_probe - array,
 [&lt;AxesSubplot:title={&#39;center&#39;:&#39;Run #156, Experiment tutorial_exp (no sample)&#39;}, xlabel=&#39;keithley_smua_Current (mA)&#39;, ylabel=&#39;voltage (V)&#39;&gt;],
 [None])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_15_2.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_15_2.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">do0d</span><span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">fastsweep</span><span class="p">,</span> <span class="n">do_plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Finally, tear down the instrument</span>
<span class="n">keith</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Time-Trace">
<h2>Time Trace<a class="headerlink" href="#Time-Trace" title="Link to this heading"></a></h2>
<p>We can measure current or voltage as a function of time, as well. Let us consider the case in which we would like to have the time trace of current. We, then, first set our trace mode accordingly</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_mode</span><span class="p">(</span><span class="s1">&#39;current&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The latter should not be confused with the channel mode. Next, we register our parameter</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timemeas</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Measurement</span><span class="p">()</span>
<span class="n">timemeas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;qcodes.dataset.measurements.Measurement at 0x1cb25ae9eb0&gt;
</pre></div></div>
</div>
<p>The total time interval is returned by <code class="docutils literal notranslate"><span class="pre">time_axis</span></code> method in accordance with the integration time <code class="docutils literal notranslate"><span class="pre">dt</span></code> and the total number of points <code class="docutils literal notranslate"><span class="pre">npts</span></code> with default values of 1 ms and 500, respectively. Specifically, the time trace will be obtained for an interval of <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">dt*npts]</span></code>. Thus, for the default values, we shall have a time trace of current for <code class="docutils literal notranslate"><span class="pre">500</span> <span class="pre">ms</span></code> calculated at 500 steps.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_dt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.001
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_npts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
500
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">initialise_database</span><span class="p">()</span>
<span class="n">new_experiment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;tutorial_exp&#39;</span><span class="p">,</span> <span class="n">sample_name</span><span class="o">=</span><span class="s2">&quot;no sample&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">timemeas</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">as</span> <span class="n">datasaver</span><span class="p">:</span>

    <span class="n">somenumbers</span> <span class="o">=</span> <span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">datasaver</span><span class="o">.</span><span class="n">add_result</span><span class="p">((</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace</span><span class="p">,</span> <span class="n">somenumbers</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">time_axis</span><span class="p">,</span> <span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">time_axis</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">datasaver</span><span class="o">.</span><span class="n">dataset</span>
<span class="n">plot_dataset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 157.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
([&lt;AxesSubplot:title={&#39;center&#39;:&#39;Run #157, Experiment tutorial_exp (no sample)&#39;}, xlabel=&#39;Time (ms)&#39;, ylabel=&#39;Current (μA)&#39;&gt;],
 [None])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_26_2.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_26_2.png" />
</div>
</div>
<p>Let us get another trace for 2ms integration time with 600 steps</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_dt</span><span class="p">(</span><span class="mf">0.002</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_npts</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">timemeas</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">as</span> <span class="n">datasaver</span><span class="p">:</span>

    <span class="n">somenumbers</span> <span class="o">=</span> <span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">datasaver</span><span class="o">.</span><span class="n">add_result</span><span class="p">((</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace</span><span class="p">,</span> <span class="n">somenumbers</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">time_axis</span><span class="p">,</span> <span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">time_axis</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">datasaver</span><span class="o">.</span><span class="n">dataset</span>
<span class="n">plot_dataset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting experimental run with id: 158.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
([&lt;AxesSubplot:title={&#39;center&#39;:&#39;Run #158, Experiment tutorial_exp (no sample)&#39;}, xlabel=&#39;Time (s)&#39;, ylabel=&#39;Current (μA)&#39;&gt;],
 [None])
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_30_2.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keithley_2600_30_2.png" />
</div>
</div>
<p>Similarly, we can get the time trace for voltage via changing the mode</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keith</span><span class="o">.</span><span class="n">smua</span><span class="o">.</span><span class="n">timetrace_mode</span><span class="p">(</span><span class="s1">&#39;voltage&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this case, one should re-register the time trace parameter to have the correct units and labels.</p>
</section>
<section id="Recalibration">
<h2>Recalibration<a class="headerlink" href="#Recalibration" title="Link to this heading"></a></h2>
<p>Sometimes it happens that Keithley SMU measures a different value from what was assigned as the setpoint; e.g. when setting the voltage to <code class="docutils literal notranslate"><span class="pre">-2</span> <span class="pre">mV</span></code>, the SMU would measure an output of <code class="docutils literal notranslate"><span class="pre">-1.85</span> <span class="pre">mV</span></code>. This likely calls for recalibration of the Keithley SMU against e.g. a calibrated DMM. After this recalibration the measured value matches the setpoint.</p>
<p>Below is a description of using a calibration routine that is based off the information from the instrument manual about performing the calibration.</p>
<p>To run this routine, connect the Keithley SMU HI voltage output to the DMM voltage HI input, and the SMU LO output to the DMM voltage LO input (note that this is a different setup as indicated in the Keithley manual).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%% Imports</span>

<span class="c1"># The calibration functions and utils</span>
<span class="kn">from</span> <span class="nn">qcodes.calibrations.keithley</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">calibrate_keithley_smu_v</span><span class="p">,</span>
    <span class="n">calibrate_keithley_smu_v_single</span><span class="p">,</span>
    <span class="n">save_calibration</span><span class="p">,</span>
    <span class="n">setup_dmm</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># QCoDeS functions for running a measurement</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset</span> <span class="kn">import</span> <span class="n">do1d</span><span class="p">,</span> <span class="n">load_or_create_experiment</span>

<span class="c1"># Keithley SMU driver</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.Keithley</span> <span class="kn">import</span> <span class="n">Keithley2614B</span>

<span class="c1"># Keysight DMM driver</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.Keysight</span> <span class="kn">import</span> <span class="n">Keysight34470A</span>

<span class="c1">#%% Load the SMU instrument</span>
<span class="n">smu</span> <span class="o">=</span> <span class="n">Keithley2614B</span><span class="p">(</span><span class="s2">&quot;smu&quot;</span><span class="p">,</span> <span class="s2">&quot;USB0::0x05E6::0x2614::4347170::INSTR&quot;</span><span class="p">)</span>

<span class="c1">#%% Load DMM instrument</span>
<span class="n">dmm</span> <span class="o">=</span> <span class="n">Keysight34470A</span><span class="p">(</span><span class="s2">&quot;dmm&quot;</span><span class="p">,</span> <span class="s2">&quot;TCPIP0::10.164.54.211::inst0::INSTR&quot;</span><span class="p">)</span>

<span class="c1">#%% Calibrate both channels</span>
<span class="n">calibrate_keithley_smu_v</span><span class="p">(</span><span class="n">smu</span><span class="p">,</span> <span class="n">dmm</span><span class="p">)</span>
<span class="k">for</span> <span class="n">smun</span> <span class="ow">in</span> <span class="n">smu</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
    <span class="n">smun</span><span class="o">.</span><span class="n">volt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#%% Calibrate single channel in specific range, e.g. SMU A</span>
<span class="n">smun</span> <span class="o">=</span> <span class="n">smu</span><span class="o">.</span><span class="n">smua</span>  <span class="c1"># e.g. SMU A</span>

<span class="n">setup_dmm</span><span class="p">(</span><span class="n">dmm</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">calibrate_keithley_smu_v_single</span><span class="p">(</span><span class="n">smu</span><span class="p">,</span> <span class="n">smun</span><span class="o">.</span><span class="n">short_name</span><span class="p">,</span> <span class="n">dmm</span><span class="o">.</span><span class="n">volt</span><span class="p">,</span> <span class="s2">&quot;200e-3&quot;</span><span class="p">)</span>
<span class="n">smun</span><span class="o">.</span><span class="n">volt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#%% Check calibration by measuring voltage with DMM while sweeping with SMU</span>
<span class="n">smun</span> <span class="o">=</span> <span class="n">smu</span><span class="o">.</span><span class="n">smua</span>  <span class="c1"># e.g. SMU A</span>

<span class="n">smun</span><span class="o">.</span><span class="n">sourcerange_v</span><span class="p">(</span><span class="mf">200e-3</span><span class="p">)</span>
<span class="n">smun</span><span class="o">.</span><span class="n">measurerange_v</span><span class="p">(</span><span class="mf">200e-3</span><span class="p">)</span>
<span class="n">smun</span><span class="o">.</span><span class="n">volt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">smun</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="p">)</span>

<span class="n">dmm</span><span class="o">.</span><span class="n">aperture_time</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">autozero</span><span class="p">(</span><span class="s2">&quot;OFF&quot;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">autorange</span><span class="p">(</span><span class="s2">&quot;OFF&quot;</span><span class="p">)</span>

<span class="n">load_or_create_experiment</span><span class="p">(</span>
    <span class="s2">&quot;MeasurementSetupDebug&quot;</span><span class="p">,</span> <span class="s2">&quot;no_sample&quot;</span><span class="p">,</span> <span class="n">load_last_duplicate</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">do1d</span><span class="p">(</span>
    <span class="n">smun</span><span class="o">.</span><span class="n">volt</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">0.1e-3</span><span class="p">,</span>
    <span class="mf">0.1e-3</span><span class="p">,</span>
    <span class="mi">101</span><span class="p">,</span>
    <span class="mf">0.3</span><span class="p">,</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">volt</span><span class="p">,</span>
    <span class="n">smun</span><span class="o">.</span><span class="n">curr</span><span class="p">,</span>
    <span class="n">measurement_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">smun</span><span class="o">.</span><span class="n">full_name</span><span class="si">}</span><span class="s2"> calibration check&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">smun</span><span class="o">.</span><span class="n">volt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">smun</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="c1">#%% Save calibrations</span>
<span class="n">save_calibration</span><span class="p">(</span><span class="n">smu</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Qcodes%20example%20with%20Ithaco.html" class="btn btn-neutral float-left" title="QCoDeS Example with Itacho" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Qcodes%20example%20with%20Keithley%207510.html" class="btn btn-neutral float-right" title="QCoDeS Example with Tektronix Keithley 7510 Multimeter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>