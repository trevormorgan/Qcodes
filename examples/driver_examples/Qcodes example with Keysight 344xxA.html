<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="310x346" href="../../_static/qcodes_favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QCoDeS Example with Keysight 344xxA &mdash; QCoDeS 0.27.0.dev9139 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=9e84aeb3"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QCoDeS Example with Keysight 34980A Multifunction Switch / Measure Mainframe and Modules" href="Qcodes%20example%20with%20Keysight%2034980A%20Switch%20Mainframe%20and%20Modules.html" />
    <link rel="prev" title="QCoDeS Example with Keysight 33500B" href="Qcodes%20example%20with%20Keysight%2033500B.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            QCoDeS
          </a>
              <div class="version">
                0.27.0.dev9139+main.g009ec80fb
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15_minutes_to_QCoDeS.html">15 minutes to QCoDeS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#dataset">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#plotting">Plotting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#drivers">Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20Example%20with%20Keysight%20E4980A%20LCR%20meter.html">QCoDeS Example with Keysight E4980A LCR meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20Example%20with%20Yokogawa%20GS200%20and%20Keithley%207510.html">QCoDeS Example with Yokogawa GS200 and Keithley 7510 Multimeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Aim%20TTi%20PL601-P.html">QCoDeS example with Aim TTi PL601-P</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20DelegateInstrument.html">Qcodes example with DelegateInstrument driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Galil%20DMC4133%20Controller.html">QCoDeS example with Galil DMC4133 Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20InstrumentGroup%20and%20DelegateInstrument.html">Qcodes example with InstrumentGroup driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCoDeS%20example%20with%20Keithley%203706A%20System%20Switch.html">QCoDeS example with Keithley 3706A System Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Keithley%20S46.html">QCoDeS Example with Tektronix Keithley S46</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Rigol%20DG1062.html">QCoDeS Example with the Rigol DG 1062 Instrument</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes%20example%20with%20Tektronix%20DPO%2072004C.html">QCoDeS example with Textronix DPO 7200xx scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20AMI430.html">QCoDeS Example with AMI430</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Agilent%2034400A.html">QCoDeS Example with Agilent 34400A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Alazar%20ATS9360.html">QCoDeS Example with Alazar ATS 9360</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Basel%20SP983c%20Preamp.html">Qcodes example with Basel SP983c Preamp and its Remote SP983a</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Cryomagnetics4G.html">Cryomagnetics 4G QCoDeS Driver Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20DynaCool%20PPMS.html">QCoDeS Example with DynaCool PPMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20HP8753D.html">QCoDeS Example with HP8753D</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Ithaco.html">QCoDeS Example with Itacho</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keithley%202600.html">QCoDeS Example with with Keithley 2600 series</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keithley%207510.html">QCoDeS Example with Tektronix Keithley 7510 Multimeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%2033500B.html">QCoDeS Example with Keysight 33500B</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">QCoDeS Example with Keysight 344xxA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Parameters-and-methods-overview">Parameters and methods overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Single-value-reading">Single value reading</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Time-trace-type-measurements">Time trace type measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#General-guide:-Multivalue-triggered-measurements">General guide: Multivalue triggered measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Special-values-of-some-parameters">Special values of some parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Display-state-impacts-command-execution-speed">Display state impacts command execution speed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Error-handling">Error handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%2034980A%20Switch%20Mainframe%20and%20Modules.html">QCoDeS Example with Keysight 34980A Multifunction Switch / Measure Mainframe and Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20B1500%20Parameter%20Analyzer.html">Qcodes example with Keysight B1500 Semiconductor Parameter Analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20B2200%20Series%20Femto%20Leakage%20Switch%20Matrix.html">QCoDeS Example with Keysight B2200 Series Femto Leakage Switch Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20Infiniium%20Oscilloscope.html">QCoDeS Example with Keysight Infiniium Oscilloscopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20N9030B.html">Qcodes example with Keysight N9030B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Keysight%20Network%20Analyzer.html">QCoDeS Example with Keysight Network Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Lakeshore%20325.html">QCoDeS Example with Lakeshore 325</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Lakeshore%20336%20or%20372%20-%20Bluefors%20T%20control.html">QCoDeS Example with the Lakeshore Model 372 to Control the Temperature of the Bluefors Fridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Minicircuits%20Switch%20boxes%20%28USB-XSPDT%29.html">QCoDeS Example with Minicircuits Switch Boxes Controlled via USB</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Oxford%20Mercury%20iPS.html">QCoDeS Example with Mercury iPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Oxford%20Triton.html">QCoDeS Example with Oxford Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20QDev_QDac.html">QCoDeS Example with QDac_channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rigol%20DP832.html">QCoDeS Example with Rigol DP832 Power Supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rigol%20DS1074Z.html">QCoDeS Example with the Rigol DS 1074 Z oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20RTO%201000%20series%20Oscilloscope.html">QCoDeS Example with Rohde Schwarz RTO 1000 Series Oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20SGS100A.html">QCoDeS Example with Rohde Schwarz SGS100A RF source</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Rohde%20Schwarz%20ZNB.html">QCoDeS Example with Rohde Schwarz ZNB20/8</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stahl.html">QCoDeS Example with the Stahl Bias Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stanford%20SR830.html">QCoDeS Example with Stanford SR830</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Stanford%20SR86x%20with%20buffered%20readout.html">QCoDeS Example with Standford Research SR86x Lock-in Amplifier with Buffered Readout</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20AWG5014C.html">QCoDeS Example with Tektronix AWG5014</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20AWG70002A.html">QCoDeS Example with Tektronix AWG70002A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Tektronix%20TPS2012.html">QCoDeS Example with Tektronix TPS2012</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20Yokogawa%20GS2xx.html">QCoDeS Example with Yokogawa GS200/GS210</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%20example%20with%20keithley%202450.html">QCoDeS Example with Tektronix Keithley 2450 Source Meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes%2Bbroadbean%20example%20with%20Tektronix%20AWG5208.html">QCoDeS+Broadbean Example with Tektronix AWG5208</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B.html">QCoDeS Example with Signal Hound USB-SA124B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes-example-with-Signal-Hound-USB-SA124B-ParameterWithSetpoints.html">QCoDeS Example with Signal Hound USB-SA124B ParameterWithSetpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#writing-drivers">Writing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">QCoDes API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers_api/index.html">Instrument Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Examples of using QCoDeS</a></li>
      <li class="breadcrumb-item active">QCoDeS Example with Keysight 344xxA</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/driver_examples/Qcodes example with Keysight 344xxA.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
  <p>This page was generated from
    <a class="reference external"
    href="https://github.com/qcodes/qcodes/blob/main/docs/examples/driver_examples/Qcodes example with Keysight 344xxA.ipynb">docs/examples/driver_examples/Qcodes example with Keysight 344xxA.ipynb</a>.
    Interactive online version:
    <a href="https://mybinder.org/v2/gh/qcodes/qcodes/main?filepath=docs/examples/driver_examples/Qcodes example with Keysight 344xxA.ipynb"><img
alt="Binder badge"
    src="https://mybinder.org/badge_logo.svg"
    style="vertical-align:text-bottom"></a>.
  </p>
  <script>
    if (document.location.host) {
      var p = document.currentScript.previousSibling.previousSibling;
      var a = document.createElement('a');
      a.innerHTML = 'View in <em>nbviewer</em>';
      a.href = `https://nbviewer.jupyter.org/url${
        (window.location.protocol == 'https:' ? 's/' : '/') +
        window.location.host +
        window.location.pathname.slice(0, -4) }ipynb`;
      a.classList.add('reference');
      a.classList.add('external');
      p.appendChild(a);
      p.appendChild(document.createTextNode('.'));
    }
  </script>
</div><section id="QCoDeS-Example-with-Keysight-344xxA">
<h1>QCoDeS Example with Keysight 344xxA<a class="headerlink" href="#QCoDeS-Example-with-Keysight-344xxA" title="Link to this heading"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">344xxA</span></code> models of Keysight digital multimeters have similar QCoDeS drivers. In this tutorial, <code class="docutils literal notranslate"><span class="pre">Keysight_34465A</span></code> is chosen for showcasing the usage of the instrument.</p>
<p>Note however that not every feature/parameter is available on all <code class="docutils literal notranslate"><span class="pre">344xxA</span></code> models. This, when possible, is reflected in the instantiated driver object. Also note that models like <code class="docutils literal notranslate"><span class="pre">34465A</span></code> have options (like <code class="docutils literal notranslate"><span class="pre">DIG</span></code> and <code class="docutils literal notranslate"><span class="pre">MEM</span></code>) that can either be enabled or disabled on a particular instrument; this also has impact on availability of some features/parameters and/or their settings. In general, refer to the instrument’s manual for detailed information.</p>
<p><strong>NOTE</strong>: Beginning with firmware revision 3.0, the digitizing and advanced triggering option, referred to as “DIG”, for models 34465A-DIG/34470A-DIG, is now standard.</p>
<p>The driver does not cover all the features of the instrument. <strong>At present, the driver only supports being used to measure DC Voltage</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="kn">import</span> <span class="nn">numpy</span>

<span class="kn">from</span> <span class="nn">qcodes.dataset</span> <span class="kn">import</span> <span class="n">Measurement</span><span class="p">,</span> <span class="n">plot_dataset</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.Keysight</span> <span class="kn">import</span> <span class="n">Keysight34465A</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span> <span class="o">=</span> <span class="n">Keysight34465A</span><span class="p">(</span><span class="s1">&#39;dmm&#39;</span><span class="p">,</span> <span class="s1">&#39;TCPIP0::172.20.2.182::inst0::INSTR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Connected to: Keysight Technologies 34465A (serial:MY54505281, firmware:A.03.00-02.40-03.00-00.52-02-01) in 0.61s
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
</div>
<section id="Parameters-and-methods-overview">
<h2>Parameters and methods overview<a class="headerlink" href="#Parameters-and-methods-overview" title="Link to this heading"></a></h2>
<p>Here is an overview (not exhaustive) of the parameters and methods that are available in the driver.</p>
<p>The driver is not only comprised of root-level parameters and methods but also contains submodules which logically group some functionality.</p>
<ul class="simple">
<li><p>Measurements</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.init_measurement()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.fetch()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.read()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.volt</span></code> - immediately measure one (the present) voltage value</p></li>
</ul>
</li>
<li><p>Time trace measurements</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.timetrace</span></code> - covered in more detail below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.time_axis</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.timetrace_dt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.timetrace_npts</span></code></p></li>
</ul>
</li>
<li><p>Range settings</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.range</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.autorange</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.autorange_once()</span></code></p></li>
</ul>
</li>
<li><p>Triggering</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.source</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.delay</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.auto_delay_enabled</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.count</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.slope</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.level</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.trigger.force()</span></code></p></li>
</ul>
</li>
<li><p>Sample settings</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.sample.count</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.sample.source</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.sample.timer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.sample.pretrigger_count</span></code></p></li>
</ul>
</li>
<li><p>Display control</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.display.text</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.display.clear()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.display.enabled</span></code></p></li>
</ul>
</li>
<li><p>Measurement type</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.sense_function</span></code></p></li>
</ul>
</li>
<li><p>Measurement accuracy (NB: DC Voltage mode only)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.NPLC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.resolution</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.line_frequency</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.aperture_mode</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.aperture_time</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dmm.autozero</span></code></p></li>
</ul>
</li>
</ul>
<p>As an extra, let’s print the readable snapshot of the instrument.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">print_readable_snapshot</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dmm:
        parameter     value
--------------------------------------------------------------------------------
IDN            :        {&#39;vendor&#39;: &#39;Keysight Technologies&#39;, &#39;model&#39;: &#39;34465A&#39;, &#39;seri...
NPLC           :        10 (NPLC)
aperture_mode  :        OFF
aperture_time  :        0.1
autorange      :        ON
autozero       :        ON
line_frequency :        50 (Hz)
range          :        0.1
resolution     :        1e-08 (V)
sense_function :        DC Voltage
time_axis      :        Not available (s)
timeout        :        5 (s)
timetrace      :        Not available
timetrace_dt   :        0.1 (s)
timetrace_npts :        500
volt           :        2.8814e-05 (V)
dmm_display:
        parameter value
--------------------------------------------------------------------------------
enabled :       True
text    :
dmm_trigger:
        parameter         value
--------------------------------------------------------------------------------
auto_delay_enabled :    True
count              :    1
delay              :    0.00016 (s)
level              :    0 (V)
slope              :    NEG
source             :    IMM
dmm_sample:
        parameter       value
--------------------------------------------------------------------------------
count            :      1
pretrigger_count :      0
source           :      IMM
timer            :      1 (s)
timer_minimum    :      0.43913 (s)
</pre></div></div>
</div>
</section>
<section id="Single-value-reading">
<h2>Single value reading<a class="headerlink" href="#Single-value-reading" title="Link to this heading"></a></h2>
<p>If one simpy wants to measure a single voltage value right now, the convenient <code class="docutils literal notranslate"><span class="pre">volt</span></code> parameter can be used. This parameter will always return a voltage reading, even if the instrument is set up to measure something else than voltage. The instrument state is left untouched by getting this parameter.</p>
<p>This is a convenience parameter that does not utilize the full power of the instrument. In the next two sections, we will present more prowerful and robust ways of performing measurements.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">volt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-7.49454636e-05
</pre></div></div>
</div>
</section>
<section id="Time-trace-type-measurements">
<h2>Time trace type measurements<a class="headerlink" href="#Time-trace-type-measurements" title="Link to this heading"></a></h2>
<p>For the commonly occuring case were one would like to measure N voltage points equidistantly spaced in time, the Keysight DMM driver offers the convenient <code class="docutils literal notranslate"><span class="pre">timetrace</span></code> parameter. It comes with three associated (helper) parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timetrace_dt</span></code> - the time spacing between the acquired points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timetrace_npts</span></code> - the number of points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_axis</span></code> - the corresponding time axis (np.array, starts at 0)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timetrace</span></code> - the array of voltage values</p></li>
</ul>
<p>Note that changing <code class="docutils literal notranslate"><span class="pre">timetrace_dt</span></code> and <code class="docutils literal notranslate"><span class="pre">timetrace_npts</span></code> does not change any corresponding setting on the instrument before <code class="docutils literal notranslate"><span class="pre">timetrace.get</span></code> is called. Once that happens, the state of the instrument is <strong>temporarily</strong> switched into one compatible with performing a time trace measurement. This specifically means that we set</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trigger.count</span></code> to 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trigger.source</span></code> to “BUS” (internal trigger - <strong>no other trigger can be used</strong>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sample.timer</span></code> to <code class="docutils literal notranslate"><span class="pre">timetrace_dt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sample.count</span></code> to <code class="docutils literal notranslate"><span class="pre">timetrace_npts</span></code></p></li>
</ul>
<p>After the acquisition has completed, the previous instrument settings are restored. This behaviour guarantees that calling <code class="docutils literal notranslate"><span class="pre">timetrace.get</span></code> always works, irrespective of instrument state. The only exception is if the specified <code class="docutils literal notranslate"><span class="pre">timetrace_dt</span></code> can not be realized with the present <code class="docutils literal notranslate"><span class="pre">dmm.NPLC</span></code> and/or <code class="docutils literal notranslate"><span class="pre">dmm.aperture_time</span></code> settings. If that is the case, the <code class="docutils literal notranslate"><span class="pre">timetrace.get</span></code> method will raise a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> with an instructive error message. The user may manually compare the value of
<code class="docutils literal notranslate"><span class="pre">sample.timer_minimum</span></code> to the value of <code class="docutils literal notranslate"><span class="pre">timetrace_dt</span></code>.</p>
<p>The usage is straightforward.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">meas</span> <span class="o">=</span> <span class="n">Measurement</span><span class="p">()</span>
<span class="n">meas</span><span class="o">.</span><span class="n">register_parameter</span><span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">timetrace</span><span class="p">)</span>

<span class="n">dmm</span><span class="o">.</span><span class="n">NPLC</span><span class="p">(</span><span class="mf">0.006</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">timetrace_dt</span><span class="p">(</span><span class="mf">0.02</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">timetrace_npts</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Minimal allowable dt: </span><span class="si">{</span><span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer_minimum</span><span class="p">()</span><span class="si">}</span><span class="s1"> s&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">meas</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">as</span> <span class="n">datasaver</span><span class="p">:</span>
    <span class="n">datasaver</span><span class="o">.</span><span class="n">add_result</span><span class="p">((</span><span class="n">dmm</span><span class="o">.</span><span class="n">timetrace</span><span class="p">,</span> <span class="n">dmm</span><span class="o">.</span><span class="n">timetrace</span><span class="p">()),</span>
                          <span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">time_axis</span><span class="p">,</span> <span class="n">dmm</span><span class="o">.</span><span class="n">time_axis</span><span class="p">()))</span>

<span class="n">time_trace_ds</span> <span class="o">=</span> <span class="n">datasaver</span><span class="o">.</span><span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Minimal allowable dt: 0.015525 s
Starting experimental run with id: 381
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axs</span><span class="p">,</span> <span class="n">cbs</span> <span class="o">=</span> <span class="n">plot_dataset</span><span class="p">(</span><span class="n">time_trace_ds</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_driver_examples_Qcodes_example_with_Keysight_344xxA_12_0.png" src="../../_images/examples_driver_examples_Qcodes_example_with_Keysight_344xxA_12_0.png" />
</div>
</div>
</section>
<section id="General-guide:-Multivalue-triggered-measurements">
<h2>General guide: Multivalue triggered measurements<a class="headerlink" href="#General-guide:-Multivalue-triggered-measurements" title="Link to this heading"></a></h2>
<p><strong>NOTE</strong>: Refer to the instrument manual for more information on how to perform measurements with the instrument; here, only the most basic and frequently used ones are demonstated.</p>
<p>Measurements with the instrument are performed in the following way: the instrument’s settings are set for a particular kind of measurement, then the measurement is started/initialized, then after all the data has been acquired, it is retrieved from the instrument. Below is an example of such a measurement.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">range</span></code>, <code class="docutils literal notranslate"><span class="pre">autorange</span></code> parameters or <code class="docutils literal notranslate"><span class="pre">autorange_once</span></code> method to set the measurement range. Disabling autorange is recommended by the instrument’s manual for speeding up the measurement.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">autorange_once</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>In order to set up the accuracy of the measurements and related settings, set up <code class="docutils literal notranslate"><span class="pre">NPLC</span></code> or <code class="docutils literal notranslate"><span class="pre">aperture_*</span></code> parameters (if available).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">aperture_mode</span><span class="p">(</span><span class="s1">&#39;ON&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">aperture_time</span><span class="p">(</span><span class="mf">2e-5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Set up triggering mechanism. Note that trigger settings and methods are inside <code class="docutils literal notranslate"><span class="pre">trigger</span></code> submodule of the instrument driver. Here, we will use immediate triggering (the measurement is triggered uppon measurement initialization, that is when <code class="docutils literal notranslate"><span class="pre">init_measurement</span></code> is called) with 1 trigger without any delays. Consulm the instrument’s manual for more information on various triggering options.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">source</span><span class="p">(</span><span class="s1">&#39;IMM&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Set up sampling settings. Note that sampling parameters and method are inside <code class="docutils literal notranslate"><span class="pre">sample</span></code> submodule of the instrument driver. Here, we set to measure 15 samples.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">pretrigger_count</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We are also going to set the sample source to timer (not avaliable in all models) so that the instrument ensures that the samples are taken with fixed periods between them. The <code class="docutils literal notranslate"><span class="pre">timer</span></code> parameter allows to set the value of that fixed period. For simplicity, we are going to let the instrument deduce the minimum value of it according to the current instrument configuration (!) and set it.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">source</span><span class="p">(</span><span class="s1">&#39;TIM&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;MIN&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>It turns out that commands are executed faster when the display of the instrument is disabled or is displaying text. One of the further section expands on it. Here, we will just set the display to some text.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Example with 15 samples&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In order to initiate the measurement, call <code class="docutils literal notranslate"><span class="pre">init_measurement</span></code> method of the driver. In the case of this example, the instrument will get into “wait-for-trigger” mode but because the trigger source is “immediate”, the instrument will immediately start measuring the 15 samples.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">init_measurement</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The instrument is going to measure 15 samples and save them to its memory. Once the measurement is completed, we can call <code class="docutils literal notranslate"><span class="pre">fetch</span></code> method of the driver to retreive the acquired data.</p>
<p>While the measurement is going, there are two things we can do. One is to <code class="docutils literal notranslate"><span class="pre">sleep</span></code> until the end of the measurement, and then call <code class="docutils literal notranslate"><span class="pre">fetch</span></code>. The other one is to call <code class="docutils literal notranslate"><span class="pre">fetch</span></code> immediately after the measurement has been initiated - this way the instrument will return the acquired data right when the measurement is finished. This sounds pretty useful, however there are two considerations to keep in mind: the instrument manual hints that calling fetching immediately after initiation may be slower
than waiting for the measurement to complete; if the measurement takes longer than the VISA command timeout, the code may raise a VISA timeout exception while the measurement is properly running (e.g. waiting for a trigger). To overcome the latter problem, one can temporarily change the VISA timeout value during the data fetching:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_timeout</span> <span class="o">=</span> <span class="n">old_timeout</span> <span class="o">+</span> <span class="n">n_samples</span> <span class="o">*</span> <span class="n">time_per_sample</span>
<span class="c1"># where, n_samples == dmm.sample.count(),</span>
<span class="c1"># and time_per_sample == dmm.sample.timer()</span>
<span class="k">with</span> <span class="n">dmm</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">set_to</span><span class="p">(</span><span class="n">new_timeout</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span>
</pre></div>
</div>
<p>Assuming that we’ve just slept or waited enough for the measurement to complete, let’s <code class="docutils literal notranslate"><span class="pre">fetch</span></code> the data from the instrument. Note that due to the nature of the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> command of the instrument, one can fetch the same measured data more than once (until, for example, a new measurement has been initiated; refer to the instrument’s manual for more information on this).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([ 0.0092552 ,  0.00434024, -0.00366329, -0.00219105,  0.00356022,
        0.01169778, -0.00892942,  0.00458304, -0.00102581, -0.00295006,
       -0.00042901, -0.0006983 , -0.02305963,  0.00703878,  0.00509042])
</pre></div></div>
</div>
<p>Note that there is also a <code class="docutils literal notranslate"><span class="pre">read</span></code> method. It’s difference from <code class="docutils literal notranslate"><span class="pre">fetch</span></code> is that it also initiates the new measurement. Using <code class="docutils literal notranslate"><span class="pre">read</span></code> might be convenient for some cases while <code class="docutils literal notranslate"><span class="pre">init_measurement</span></code> + <code class="docutils literal notranslate"><span class="pre">fetch</span></code> definitely allow for more control.</p>
<p>Since the measurement is finished, let’s bring back the display to life.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>If needed, it is straightforward to calculate a vector of times when the acquired data points were measured; for example, like this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span>
<span class="n">setpoints</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">setpoints</span>  <span class="c1"># in seconds</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([0.     , 0.00063, 0.00126, 0.00189, 0.00252, 0.00315, 0.00378,
       0.00441, 0.00504, 0.00567, 0.0063 , 0.00693, 0.00756, 0.00819,
       0.00882])
</pre></div></div>
</div>
<p>Note that for this simple type of measurement with measurement times being equidistantly spaced, the <code class="docutils literal notranslate"><span class="pre">timetrace</span></code> parameter is preferred.</p>
</section>
<section id="Special-values-of-some-parameters">
<h2>Special values of some parameters<a class="headerlink" href="#Special-values-of-some-parameters" title="Link to this heading"></a></h2>
<p>Some parameters can be set to special values like <code class="docutils literal notranslate"><span class="pre">MIN</span></code>/<code class="docutils literal notranslate"><span class="pre">MAX</span></code>/<code class="docutils literal notranslate"><span class="pre">DEF</span></code> which usually mean minimum/maximum/default, respectively.</p>
<p>In order to obtain the actual value of the parameter that gets set when setting it to one of these special values, just call the get method of the parameter.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find out what the maximum value of `sample_timer` can be</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;MAX&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3600.0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find out what the default value of `sample_timer` is</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;DEF&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find out what the recommended minumum value of `sample_timer` is</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="s1">&#39;MIN&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.000588
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Alternatively, if available, use a conveniently implemented</span>
<span class="c1"># get-only parameter to find out the actual value,</span>
<span class="c1"># for example, for MIN value of `sample_timer` there is such</span>
<span class="c1"># a convenient get-only parameter:</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">timer_minimum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.000588
</pre></div></div>
</div>
</section>
<section id="Display-state-impacts-command-execution-speed">
<h2>Display state impacts command execution speed<a class="headerlink" href="#Display-state-impacts-command-execution-speed" title="Link to this heading"></a></h2>
<p>To improve the execution speed of commands on the instrument, the user may disable the display’s updates. When the display is not updating, it may show a static message of up to 40 characters. The <code class="docutils literal notranslate"><span class="pre">timetrace</span></code> parameter (see above) makes use of this functionality to execute faster and at the same time display a message that a measurement is in progress.</p>
<p>The driver provides <code class="docutils literal notranslate"><span class="pre">display</span></code> submodule with <code class="docutils literal notranslate"><span class="pre">text</span></code> parameter that displays a given text on the insrturment, and a <code class="docutils literal notranslate"><span class="pre">clear</span></code> method that clears the text from display.</p>
<p>The driver’s <code class="docutils literal notranslate"><span class="pre">display</span></code> submodule also provides <code class="docutils literal notranslate"><span class="pre">enabled</span></code> parameter. When it is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the state of the display is such that it does not show anything. Note, however, that displaying text is still possible when the <code class="docutils literal notranslate"><span class="pre">display.enabled</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (when <code class="docutils literal notranslate"><span class="pre">display.enabled</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, <code class="docutils literal notranslate"><span class="pre">display.clear</span></code> clears the text from the screen but does not enable it).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Displays the text</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Returns display to its normal state</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note that a call to `display_clear` also updates</span>
<span class="c1"># the value of the `display_text` parameter:</span>
<span class="k">assert</span> <span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display can also be cleared by setting</span>
<span class="c1"># `display_text` to an empty string</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;some text&#39;</span><span class="p">)</span>  <span class="c1"># Displays some text</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># Returns display to its normal state</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Disables the display, which makes it turn black</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">enabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shows some text on a disabled display</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;I&#39;m disabled but still showing text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enabling display in this state</span>
<span class="c1"># won&#39;t change what&#39;s being displayed</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">enabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ... but since the display is now enabled,</span>
<span class="c1"># clearing the display will not only remove the text</span>
<span class="c1"># but also show all the normal display indicators.</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Error-handling">
<h2>Error handling<a class="headerlink" href="#Error-handling" title="Link to this heading"></a></h2>
<p>Use the following methods to read the error queue of the instrument. The instrument has an error queue of length up to 20 messages. The queue message retrieval is first-in-first-out.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retrieve the first (i.e. oldest) error message</span>
<span class="c1"># in the queue (and thereby remove from the queue)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">error</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0, &#39;No error&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The entire queue can be flushed out</span>
<span class="c1"># using `flush_error_queue` method.</span>
<span class="c1"># Printing the messages in enabled by default</span>
<span class="c1"># and can be disables with the `verbose` kwarg.</span>

<span class="c1"># generate a few errors</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;produce an error!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dmm</span><span class="o">.</span><span class="n">flush_error_queue</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-113 Undefined header
-113 Undefined header
-113 Undefined header
0 No error
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Qcodes%20example%20with%20Keysight%2033500B.html" class="btn btn-neutral float-left" title="QCoDeS Example with Keysight 33500B" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Qcodes%20example%20with%20Keysight%2034980A%20Switch%20Mainframe%20and%20Modules.html" class="btn btn-neutral float-right" title="QCoDeS Example with Keysight 34980A Multifunction Switch / Measure Mainframe and Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>